# SPDX-License-Identifier: BSD-3-Clause
#
# This file is part of ETISS. It is licensed under the BSD 3-Clause License; you may not use this file except in
# compliance with the License. You should have received a copy of the license along with this project. If not, see the
# LICENSE file.

PROJECT(resources)

IF(WIN32)
	SET(CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS ON)
ENDIF()

ADD_LIBRARY(${PROJECT_NAME} SHARED
    resources.cpp
)


add_custom_command(
  TARGET ${PROJECT_NAME} POST_BUILD VERBATIM
  COMMAND ${CMAKE_COMMAND} -E make_directory ${ETISS_BINARY_DIR}/include/jit/etiss/jit/
  COMMAND ${CMAKE_COMMAND} -E copy "$<TARGET_FILE:${PROJECT_NAME}>" ${ETISS_BINARY_DIR}/include/jit/etiss/jit/
)


TARGET_LINK_LIBRARIES(${PROJECT_NAME} PUBLIC ETISS)

INSTALL(FILES
    libresources.h
    DESTINATION include/jit/etiss/jit
)
InstallJitLib(${PROJECT_NAME})
