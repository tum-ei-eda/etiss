# SPDX-License-Identifier: BSD-3-Clause
#
# This file is part of ETISS. It is licensed under the BSD 3-Clause License; you may not use this file except in
# compliance with the License. You should have received a copy of the license along with this project. If not, see the
# LICENSE file.

set(ETISS_INCLUDE_DIRS "@CMAKE_INSTALL_PREFIX@/include" "@ETISS_SUB_INCLUDE_DIRS@")
if(CMAKE_IMPORT_LIBRARY_PREFIX OR CMAKE_IMPORT_LIBRARY_SUFFIX)
    set(ETISS_SHLIB_DLL_PREFIX ${CMAKE_IMPORT_LIBRARY_PREFIX})
    set(ETISS_SHLIB_DLL_SUFFIX ${CMAKE_IMPORT_LIBRARY_SUFFIX})
else()
    set(ETISS_SHLIB_DLL_PREFIX ${CMAKE_SHARED_LIBRARY_PREFIX})
    set(ETISS_SHLIB_DLL_SUFFIX ${CMAKE_SHARED_LIBRARY_SUFFIX})
endif()
set(ETISS_LIB_DIR "@CMAKE_INSTALL_PREFIX@/lib/")
set(ETISS_LIBRARIES "${ETISS_LIB_DIR}/${ETISS_SHLIB_DLL_PREFIX}ETISS${ETISS_SHLIB_DLL_SUFFIX}")

FIND_PACKAGE(Threads REQUIRED)
FIND_PACKAGE(Boost 1.48 COMPONENTS filesystem system program_options REQUIRED)

LINK_DIRECTORIES("${Boost_LIBRARY_DIRS}" "${ETISS_LIB_DIR}")
INCLUDE_DIRECTORIES(${Boost_INCLUDE_DIR} "${ETISS_INCLUDE_DIRS}")

SET(CMAKE_POSITION_INDEPENDENT_CODE ON)
if (NOT ETISS_DISABLE_COMPILERFLAGS)
  SET(CMAKE_CXX_STANDARD 11)
  SET(CMAKE_CXX_STANDARD_REQUIRED ON)
endif()
SET(CMAKE_EXPORT_COMPILE_COMMANDS ON)

file(GLOB_RECURSE SUBPROJECTS_CMAKE "@CMAKE_INSTALL_PREFIX@/lib/CMake/ETISS/*.cmake")
string(REGEX REPLACE "[^;]ETISSConfig.cmake;?" "" SUBPROJECTS_CMAKE "${SUBPROJECTS_CMAKE}")
string(REGEX REPLACE "[^;]*ConfigVersion.cmake;?" "" SUBPROJECTS_CMAKE "${SUBPROJECTS_CMAKE}")
foreach(sp ${SUBPROJECTS_CMAKE})
	include(${sp})
endforeach(sp ${SUBPROJECTS_CMAKE})

set(ETISS_SOURCES ${ETISS_SOURCES} "@ETISS_SOURCES_RN@")
set(ETISS_LIBRARIES ${ETISS_LIBRARIES} "@ETISS_FILES_LNK@")
